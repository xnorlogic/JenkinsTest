/*---------------------------------------------------------------------*/
/*Jenkinsfile                                                          */
/*Change Log :                                                         */
/*             Author       Date       Comment                         */
/*             Andy R       12/06/2018 Initial Templete                */
/*---------------------------------------------------------------------*/
pipeline {
    agent {
        node {                          
            label 'Zorin_Node'
        }
    }
	environment {
		SRC_DIR = '/src'
	}
    stages {
		stage('Stage 1') {
            steps {
                sh 'echo hello'
            }
		}
		stage('Stage 2') {
            steps {
				/*Compile the source*/
				sh 'gcc ${SRC_DIR}/Test.c -o ${SRC_DIR}/Test.o'
				/*Run the binary...*/
				sh './${SRC_DIR}/Test.o'
            }
		}
		stage('Stage 3') {
            steps {
				sh 'echo hello 3'
            }
		}
    }
	post {
		always {
            sh 'echo One way or another, I have finished'
        }
        success {
            sh 'echo I succeeeded!'	
        }
        unstable {
            sh 'echo I am unstable :/'
        }
        failure {
            sh 'echo I failed :('
        }
        changed {
            sh 'echo Things were different before...'
        }
	}
}